#
# WARNING:
# This file is under CM control - all manual changes will be removed
#

# Common libs
location ^~ /lib {
    root /srv/www;
    gzip_static on;
    access_log        off;
    log_not_found     off;
    expires           90d;
}

# Cache control for static files
location ~* \.(jpg|jpeg|gif|png|css|js|ico|xml)$ {
    gzip_static on;
    access_log        off;
    log_not_found     off;
    expires           90d;
}

# Prevent access to hidden files & subdirs (.git, .svn etc.)
location ~ /\.  { return 403; }

# Errors
error_page 400 /error/400.html;
error_page 401 /error/401.html;
error_page 403 /error/403.html;
error_page 404 /error/404.html;
error_page 500 /error/500.html;
error_page 502 /error/502.html;
error_page 503 /error/503.html;

location  /error {
    root /srv/www;
    internal;
}
